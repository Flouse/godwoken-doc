<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Godwoken Documentation Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Godwoken Documentation Blog Atom Feed">
<link rel="preconnect" href="https://cryptapeblog.matomo.cloud/">
<script>var _paq=window._paq=window._paq||[];_paq.push(["setRequestMethod","POST"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),_paq.push(["enableHeartBeatTimer"]),function(){var e="https://cryptapeblog.matomo.cloud/";_paq.push(["setRequestMethod","POST"]),_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","2"]);var a=document,t=a.createElement("script"),p=a.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.src=e+"matomo.js",p.parentNode.insertBefore(t,p)}()</script><title data-react-helmet="true">Integration Guide for Ethererm Developers | Godwoken Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Integration Guide for Ethererm Developers | Godwoken Documentation"><meta data-react-helmet="true" name="description" content="Ethereum developers can simply use Godwoken as an EVM-compatible layer 2 chain, just like Arbitrum and Optimism."><meta data-react-helmet="true" property="og:description" content="Ethereum developers can simply use Godwoken as an EVM-compatible layer 2 chain, just like Arbitrum and Optimism."><meta data-react-helmet="true" property="og:url" content="http://docs.godwoken.io//integration"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="http://docs.godwoken.io//integration"><link rel="stylesheet" href="/styles.8d735850.css">
<link rel="preload" href="/styles.6ed61793.js" as="script">
<link rel="preload" href="/runtime~main.74d15645.js" as="script">
<link rel="preload" href="/main.b078939a.js" as="script">
<link rel="preload" href="/1.3dc69435.js" as="script">
<link rel="preload" href="/2.c45acd64.js" as="script">
<link rel="preload" href="/34.b7bd0f76.js" as="script">
<link rel="preload" href="/35.8e4fb06b.js" as="script">
<link rel="preload" href="/f976f453.085f4fbb.js" as="script">
<link rel="preload" href="/17896441.121c0a7d.js" as="script">
<link rel="preload" href="/c24f0da9.93750ec6.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top navbarHideable_17Wu navbarHidden_19ww"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a href="https://www.nervos.org/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/img/favicon.png" alt="Nervos" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/favicon.png" alt="Nervos" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/nervosnetwork/godwoken" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><a href="https://discord.gg/Rk62Qmnpfg" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a href="https://www.nervos.org/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/img/favicon.png" alt="Nervos" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/favicon.png" alt="Nervos" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/nervosnetwork/godwoken" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a href="https://discord.gg/Rk62Qmnpfg" target="_blank" rel="noopener noreferrer" class="menu__link">Discord</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy sidebarWithHideableNavbar_CROi"><a href="https://www.nervos.org/" target="_blank" rel="noopener noreferrer" tabindex="-1" class="sidebarLogo_xFc8"><img src="/img/favicon.png" alt="Nervos" class="themedImage_YANc themedImage--light_3CMI"><img src="/img/favicon.png" alt="Nervos" class="themedImage_YANc themedImage--dark_3ARp"><strong></strong></a><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/decentralizationRoadmap">Decentralization Roadmap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/comparisonEVM">Comparison with EVM</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/deployment">Deployment</a></li><li class="menu__list-item"><a class="menu__link" href="/deployEthDapp">Deploy Ethereum DApps to Godwoken</a></li><li class="menu__list-item"><a class="menu__link" href="/deposit_withdrawal">Deposit &amp; Withdraw CKB on Godwoken</a></li><li class="menu__list-item"><a class="menu__link" href="/withdraw_lightGodwoken">Withdrawal Demo</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/integration">Integration Guide for Ethererm Developers</a></li><li class="menu__list-item"><a class="menu__link" href="/faq">FAQ</a></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Integration Guide for Ethererm Developers</h1></header><div class="markdown"><p>Ethereum developers can simply use Godwoken as an EVM-compatible layer 2 chain, just like Arbitrum and Optimism.</p><p>This documentation can be used as an integration guide for wallets and exchanges, or as a reference for developing dApps on Godwoken. It describes how to interact with Godwoken using existing Ethereum development tools, known caveats of version 1 and corresponding workarounds.</p><p>The knowledge of Ethereum is a prerequisite for using this guide.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="why-develop-on-godwoken"></a>Why Develop on Godwoken?<a class="hash-link" href="#why-develop-on-godwoken" title="Direct link to heading">#</a></h2><ul><li><strong>Security</strong> - Nervos Network is a Proof-of-Work (PoW) layer 1 chain and Godwoken is an optimistic rollup layer 2 chain built on Nervos Network. The security model is quite different from other EVM-compatible PoS/DPoS/PoA chains or sidechains. For more information, see the references section.</li><li><strong>Low cost</strong> - A typical Godwoken transaction currently costs less than $0.0001.</li><li><strong>Ecosystem</strong><ul><li>With Force Bridge, assets from 3 chains (Nervos, Ethereum and BSC) are already available on Godwoken. The support for more chains (Cardano, BTC) is on the way.</li><li>The TVL of Godwoken is now nearly <a href="https://defillama.com/chains" target="_blank" rel="noopener noreferrer">100 million</a>. A number of DeFi dApps (e.g. <a href="https://www.yokaiswap.com/" target="_blank" rel="noopener noreferrer">YokaiSwap</a>, <a href="https://www.daruma.money/" target="_blank" rel="noopener noreferrer">DARUMA</a>) and wallets(e.g. <a href="https://www.safepal.io/download" target="_blank" rel="noopener noreferrer">SafePal</a>) have already been integrated. </li></ul></li><li><a href="https://medium.com/nervosnetwork/blockchain-abstraction-and-interoperability-2-0-eea98d81b7b6" target="_blank" rel="noopener noreferrer"><strong>Interoperability 2.0</strong></a> - This may be the trump card of Godwoken. With the design abstractions of Nervos Network and Godwoken, it is possible to use any on-chain tool to port smart contracts to manipulate assets on the corresponding chain.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="known-caveats"></a>Known Caveats<a class="hash-link" href="#known-caveats" title="Direct link to heading">#</a></h2><p>Godwoken V1 is still under development and targets 100% EVM compatibility.</p><p>To develop on Godwoken V1, the following caveats must be noted:</p><ul><li>The existing web3.js libraries are not used to interact with Godwoken because the web3 RPC is not fully compatible with EVM. <a href="https://github.com/nervosnetwork/polyjuice-provider" target="_blank" rel="noopener noreferrer">compatible providers</a> are provided to minimize the workload of porting existing work with web3.js, ethers.js, Truffle and Hardhat. Simply replace the provider with polyjuice-provider when initiating the wallet provider.</li><li>Ethereum wallets are used as transaction signers instead of a full-featured wallet that support checking balances, tracking transactions, transferring assets etc. The Ethereum wallets such as MetaMask support signing and sending transactions on Godwoken.</li><li>For more details on the incompatibilities when deploying Ethereum contracts, see the links below:<ul><li><a href="/comparisonEVM">Comparison with EVM</a></li><li><a href="https://github.com/honestgoing/godwoken-polyjuice-compatibility-examples" target="_blank" rel="noopener noreferrer">Godwoken Compatibility Examples</a></li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="account-initialization"></a>Account Initialization<a class="hash-link" href="#account-initialization" title="Direct link to heading">#</a></h2><p>It is necessary to initialize an account in order to send transactions on Godwoken.</p><ol><li><p>Visit YokaiSwap (<a href="https://testnet.yokaiswap.com/" target="_blank" rel="noopener noreferrer">Testnet</a> or <a href="https://www.yokaiswap.com/" target="_blank" rel="noopener noreferrer">Mainnet</a>). </p></li><li><p>Connect the wallet and obtain the <strong>L1 YOKAI DEPOSIT ADDRESS</strong>.</p><img src="/img/integration/yokai-wallet.png" width="100%"><img src="/img/integration/deposit-address.png" width="100%"></li><li><p>Send a minimum of <strong>400</strong> CKBs from a CKB wallet to this address.</p><p><strong>Note:</strong> Use <a href="https://faucet.nervos.org/" target="_blank" rel="noopener noreferrer">Nervos Faucet</a> to fund the CKB wallet in Testnet.</p><p>Once the deposit is completed, the CKB balance will be visible on the Yokai Exchange page, which means the account has been initialized.</p><img src="/img/integration/ckb-balance.png" width="100%"></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="assets-management"></a>Assets Management<a class="hash-link" href="#assets-management" title="Direct link to heading">#</a></h2><p>There are two different types of tokens on Godwoken, the <a href="https://www.gwscan.com/tokens/bridge" target="_blank" rel="noopener noreferrer">bridged token</a> and the <a href="https://www.gwscan.com/tokens/native" target="_blank" rel="noopener noreferrer">layer 2 native token</a>.</p><p>The bridged token is a token bridged from other chains, and mapped as an ERC20 token on Godwoken.</p><p>The current source chains can be:</p><ul><li>Nervos Network</li><li>Ethereum</li><li>Binance Smart Chain</li></ul><p>It is possible to manipulate the bridged token with ERC20 ABI and given address.</p><ul><li><a href="https://github.com/nervosnetwork/godwoken-info/blob/master/mainnet/ERC20TokenList.json" target="_blank" rel="noopener noreferrer">Bridged Token list</a></li><li><a href="https://github.com/nervosnetwork/godwoken-polyjuice/tree/main/solidity/erc20" target="_blank" rel="noopener noreferrer">ERC20 contract and ABI used in Godwoken</a></li></ul><p>CKB is also a bridged token on Godwoken. CKB acts as a native token for Godwoken in the same way that ETH does for Ethereum, but can also operate with the ERC20 proxy contract.</p><p>A few facts to keep in mind when manipulating the CKB:</p><ol><li>Do not transfer CKB with <code>sendTransaction</code> to arbitrary address carrying the value. Use the <code>transfer</code> method in the CKB ERC20 proxy contract to transfer CKB.</li><li>Use the <code>getBalance</code> method of the Ethereum RPC to get the balance of CKB. Note that the decimal return value for CKB is 8, not 18 as in ETH. The balance of CKB can also be obtained using the <code>balanceOf</code> method in the CKB ERC20 proxy contract.</li><li>The CKB ERC20 proxy contract address is <code>0x6BFD7c449B3FFDaCCcac80Cf3cA6bb89e9bF309C</code> for Testnet, and <code>0x9D9599c41383D7009C2093319d576AA6F89A4449</code> for Mainnet.</li><li>It is <strong>impossible</strong> to use MetaMask or other wallets to show or send CKB.</li></ol><p>Check the <a href="https://github.com/huwenchao/godwoken-demos/blob/main/gw-scripts/assets.ts" target="_blank" rel="noopener noreferrer">demo</a> for more details.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="dapp-development"></a>DApp Development<a class="hash-link" href="#dapp-development" title="Direct link to heading">#</a></h2><p>An existing contract written in Solidity or Vyper can be ported to Godwoken, otherwise write a new contract.</p><p>There is a <a href="https://github.com/huwenchao/godwoken-demos/blob/main/gw-scripts/contract.ts" target="_blank" rel="noopener noreferrer">demo</a> showing a simple way to deploy a contract to and interact with Godwoken.
There is no difference in compiling, so using Truffle or Hardhat to write, compile and test the contract is still possible.</p><p>More compatibility information:</p><ul><li><a href="https://docs.godwoken.io/comparisonEVM" target="_blank" rel="noopener noreferrer">Comparison with EVM</a></li><li><a href="https://github.com/honestgoing/godwoken-polyjuice-compatibility-examples" target="_blank" rel="noopener noreferrer">Godwoken Compatibility Examples</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="references"></a>References<a class="hash-link" href="#references" title="Direct link to heading">#</a></h2><ul><li>rollup<ul><li><a href="https://ethereum.org/en/developers/docs/scaling/layer-2-rollups/" target="_blank" rel="noopener noreferrer">What is Rollup solution?</a></li><li><a href="https://research.paradigm.xyz/rollups" target="_blank" rel="noopener noreferrer">(Almost) Everything you need to know about Optimistic Rollup | Low trust and Low Cost is important</a></li></ul></li></ul></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/withdraw_lightGodwoken"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Withdrawal Demo</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/faq"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">FAQ »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why-develop-on-godwoken" class="table-of-contents__link">Why Develop on Godwoken?</a></li><li><a href="#known-caveats" class="table-of-contents__link">Known Caveats</a></li><li><a href="#account-initialization" class="table-of-contents__link">Account Initialization</a></li><li><a href="#assets-management" class="table-of-contents__link">Assets Management</a></li><li><a href="#dapp-development" class="table-of-contents__link">DApp Development</a></li><li><a href="#references" class="table-of-contents__link">References</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Nervos Foundation. All Rights Reserved.</div></div></div></footer></div>
<script src="/styles.6ed61793.js"></script>
<script src="/runtime~main.74d15645.js"></script>
<script src="/main.b078939a.js"></script>
<script src="/1.3dc69435.js"></script>
<script src="/2.c45acd64.js"></script>
<script src="/34.b7bd0f76.js"></script>
<script src="/35.8e4fb06b.js"></script>
<script src="/f976f453.085f4fbb.js"></script>
<script src="/17896441.121c0a7d.js"></script>
<script src="/c24f0da9.93750ec6.js"></script>
</body>
</html>