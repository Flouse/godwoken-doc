(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{105:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var a=n(0),o=n.n(a);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=o.a.createContext({}),b=function(e){var t=o.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},p=function(e){var t=b(e.components);return o.a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},d=o.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,i=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),p=b(n),d=a,m=p["".concat(i,".").concat(d)]||p[d]||u[d]||r;return n?o.a.createElement(m,c(c({ref:t},s),{},{components:n})):o.a.createElement(m,c({ref:t},s))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=d;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var s=2;s<r;s++)i[s]=n[s];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},107:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n(22),o=n(109);function r(){var e=Object(a.default)().siteConfig,t=(e=void 0===e?{}:e).baseUrl,n=void 0===t?"/":t,r=e.url;return{withBaseUrl:function(e,t){return function(e,t,n,a){var r=void 0===a?{}:a,i=r.forcePrependBaseUrl,c=void 0!==i&&i,l=r.absolute,s=void 0!==l&&l;if(!n)return n;if(n.startsWith("#"))return n;if(Object(o.b)(n))return n;if(c)return t+n;var b=n.startsWith(t)?n:t+n.replace(/^\//,"");return s?e+b:b}(r,n,e,t)}}}function i(e,t){return void 0===t&&(t={}),(0,r().withBaseUrl)(e,t)}},109:function(e,t,n){"use strict";function a(e){return!0===/^(\w*:|\/\/)/.test(e)}function o(e){return void 0!==e&&!a(e)}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}))},110:function(e,t,n){"use strict";var a=n(0),o=n.n(a),r=n(10),i=n(109),c=n(8),l=Object(a.createContext)({collectLink:function(){}}),s=n(107),b=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n};t.a=function(e){var t,n,p,u=e.isNavLink,d=e.to,m=e.href,h=e.activeClassName,f=e.isActive,w=e["data-noBrokenLinkCheck"],O=e.autoAddBaseUrl,j=void 0===O||O,g=b(e,["isNavLink","to","href","activeClassName","isActive","data-noBrokenLinkCheck","autoAddBaseUrl"]),v=Object(s.b)().withBaseUrl,y=Object(a.useContext)(l),k=d||m,N=Object(i.a)(k),C=null==k?void 0:k.replace("pathname://",""),E=void 0!==C?(n=C,j&&function(e){return e.startsWith("/")}(n)?v(n):n):void 0,T=Object(a.useRef)(!1),B=u?r.e:r.c,A=c.a.canUseIntersectionObserver;Object(a.useEffect)((function(){return!A&&N&&window.docusaurus.prefetch(E),function(){A&&p&&p.disconnect()}}),[E,A,N]);var x=null!==(t=null==E?void 0:E.startsWith("#"))&&void 0!==t&&t,G=!E||!N||x;return E&&N&&!x&&!w&&y.collectLink(E),G?o.a.createElement("a",Object.assign({href:E},k&&!N&&{target:"_blank",rel:"noopener noreferrer"},g)):o.a.createElement(B,Object.assign({},g,{onMouseEnter:function(){T.current||(window.docusaurus.preload(E),T.current=!0)},innerRef:function(e){var t,n;A&&e&&N&&(t=e,n=function(){window.docusaurus.prefetch(E)},(p=new window.IntersectionObserver((function(e){e.forEach((function(e){t===e.target&&(e.isIntersecting||e.intersectionRatio>0)&&(p.unobserve(t),p.disconnect(),n())}))}))).observe(t))},to:E||""},u&&{isActive:f,activeClassName:h}))}},96:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return b})),n.d(t,"toc",(function(){return p})),n.d(t,"default",(function(){return d}));var a=n(3),o=n(7),r=(n(0),n(105)),i=n(107),c=n(110),l=["components"],s={id:"integration",title:"Integration Guide for Ethererm Developers"},b={unversionedId:"integration",id:"integration",isDocsHomePage:!1,title:"Integration Guide for Ethererm Developers",description:"Ethereum developers can simply use Godwoken as an EVM-compatible layer 2 chain, just like Arbitrum and Optimism.",source:"@site/docs\\integration.md",slug:"/integration",permalink:"/integration",version:"current",sidebar:"sidebar2",previous:{title:"Withdrawal Demo",permalink:"/withdraw_lightGodwoken"},next:{title:"FAQ",permalink:"/faq"}},p=[{value:"Why Develop on Godwoken?",id:"why-develop-on-godwoken",children:[]},{value:"Known Caveats",id:"known-caveats",children:[]},{value:"Account Initialization",id:"account-initialization",children:[]},{value:"Assets Management",id:"assets-management",children:[]},{value:"DApp Development",id:"dapp-development",children:[]},{value:"References",id:"references",children:[]}],u={toc:p};function d(e){var t=e.components,n=Object(o.a)(e,l);return Object(r.b)("wrapper",Object(a.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"Ethereum developers can simply use Godwoken as an EVM-compatible layer 2 chain, just like Arbitrum and Optimism."),Object(r.b)("p",null,"This documentation can be used as an integration guide for wallets and exchanges, or as a reference for developing dApps on Godwoken. It describes how to interact with Godwoken using existing Ethereum development tools, known caveats of version 1 and corresponding workarounds."),Object(r.b)("p",null,"The knowledge of Ethereum is a prerequisite for using this guide."),Object(r.b)("h2",{id:"why-develop-on-godwoken"},"Why Develop on Godwoken?"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Security")," - Nervos Network is a Proof-of-Work (PoW) layer 1 chain and Godwoken is an optimistic rollup layer 2 chain built on Nervos Network. The security model is quite different from other EVM-compatible PoS/DPoS/PoA chains or sidechains. For more information, see the references section."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Low cost")," - A typical Godwoken transaction currently costs less than $0.0001."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Ecosystem"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"With Force Bridge, assets from 3 chains (Nervos, Ethereum and BSC) are already available on Godwoken. The support for more chains (Cardano, BTC) is on the way."),Object(r.b)("li",{parentName:"ul"},"The TVL of Godwoken is now nearly ",Object(r.b)("a",{parentName:"li",href:"https://defillama.com/chains"},"100 million"),". A number of DeFi dApps (e.g. ",Object(r.b)("a",{parentName:"li",href:"https://www.yokaiswap.com/"},"YokaiSwap"),", ",Object(r.b)("a",{parentName:"li",href:"https://www.daruma.money/"},"DARUMA"),") and wallets (e.g. ",Object(r.b)("a",{parentName:"li",href:"https://www.safepal.io/download"},"SafePal"),") have already been integrated. "))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"https://medium.com/nervosnetwork/blockchain-abstraction-and-interoperability-2-0-eea98d81b7b6"},Object(r.b)("strong",{parentName:"a"},"Interoperability 2.0"))," - This may be the trump card of Godwoken. With the design abstractions of Nervos Network and Godwoken, it is possible to use any on-chain tool to port smart contracts to manipulate assets on the corresponding chain.")),Object(r.b)("h2",{id:"known-caveats"},"Known Caveats"),Object(r.b)("p",null,"Godwoken V1 is still under development and targets 100% EVM compatibility."),Object(r.b)("p",null,"To develop on Godwoken V1, the following caveats must be noted:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"The existing web3.js libraries are not used to interact with Godwoken because the web3 RPC is not fully compatible with EVM. ",Object(r.b)("a",{parentName:"li",href:"https://github.com/nervosnetwork/polyjuice-provider"},"compatible providers")," are provided to minimize the workload of porting existing work with web3.js, ethers.js, Truffle and Hardhat. Simply replace the provider with polyjuice-provider when initiating the wallet provider."),Object(r.b)("li",{parentName:"ul"},"Ethereum wallets are used as transaction signers instead of a full-featured wallet that support checking balances, tracking transactions, transferring assets etc. The Ethereum wallets such as MetaMask support signing and sending transactions on Godwoken."),Object(r.b)("li",{parentName:"ul"},"For more details on the incompatibilities when deploying Ethereum contracts, see the links below:",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)(c.a,{to:Object(i.a)("/comparisonEVM"),mdxType:"Link"},"Comparison with EVM")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"https://github.com/honestgoing/godwoken-polyjuice-compatibility-examples"},"Godwoken Compatibility Examples"))))),Object(r.b)("h2",{id:"account-initialization"},"Account Initialization"),Object(r.b)("p",null,"It is necessary to initialize an account in order to send transactions on Godwoken."),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Visit YokaiSwap (",Object(r.b)("a",{parentName:"p",href:"https://testnet.yokaiswap.com/"},"Testnet")," or ",Object(r.b)("a",{parentName:"p",href:"https://www.yokaiswap.com/"},"Mainnet"),"). ")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Connect the wallet and obtain the ",Object(r.b)("strong",{parentName:"p"},"L1 YOKAI DEPOSIT ADDRESS"),"."),Object(r.b)("img",{src:Object(i.a)("img/integration/yokai-wallet.png"),width:"100%"}),Object(r.b)("img",{src:Object(i.a)("img/integration/deposit-address.png"),width:"100%"})),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Send a minimum of ",Object(r.b)("strong",{parentName:"p"},"400")," CKBs from a CKB wallet to this address."),Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Note:")," Use ",Object(r.b)("a",{parentName:"p",href:"https://faucet.nervos.org/"},"Nervos Faucet")," to fund the CKB wallet in Testnet."),Object(r.b)("p",{parentName:"li"},"Once the deposit is completed, the CKB balance will be visible on the Yokai Exchange page, which means the account has been initialized."),Object(r.b)("img",{src:Object(i.a)("img/integration/ckb-balance.png"),width:"100%"}))),Object(r.b)("h2",{id:"assets-management"},"Assets Management"),Object(r.b)("p",null,"There are two different types of tokens on Godwoken, the ",Object(r.b)("a",{parentName:"p",href:"https://www.gwscan.com/tokens/bridge"},"bridged token")," and the ",Object(r.b)("a",{parentName:"p",href:"https://www.gwscan.com/tokens/native"},"layer 2 native token"),"."),Object(r.b)("p",null,"The bridged token is a token bridged from other chains, and mapped as an ERC20 token on Godwoken."),Object(r.b)("p",null,"The current source chains can be:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Nervos Network"),Object(r.b)("li",{parentName:"ul"},"Ethereum"),Object(r.b)("li",{parentName:"ul"},"Binance Smart Chain")),Object(r.b)("p",null,"It is possible to manipulate the bridged token with ERC20 ABI and given address."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"https://github.com/nervosnetwork/godwoken-info/blob/master/mainnet/ERC20TokenList.json"},"Bridged Token list")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"https://github.com/nervosnetwork/godwoken-polyjuice/tree/main/solidity/erc20"},"ERC20 contract and ABI used in Godwoken"))),Object(r.b)("p",null,"CKB is also a bridged token on Godwoken. CKB acts as a native token for Godwoken in the same way that ETH does for Ethereum, but can also operate with the ERC20 proxy contract."),Object(r.b)("p",null,"A few facts to keep in mind when manipulating the CKB:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Do not transfer CKB with ",Object(r.b)("inlineCode",{parentName:"li"},"sendTransaction")," to arbitrary address carrying the value. Use the ",Object(r.b)("inlineCode",{parentName:"li"},"transfer")," method in the CKB ERC20 proxy contract to transfer CKB."),Object(r.b)("li",{parentName:"ol"},"Use the ",Object(r.b)("inlineCode",{parentName:"li"},"getBalance")," method of the Ethereum RPC to get the balance of CKB. Note that the decimal return value for CKB is 8, not 18 as in ETH. The balance of CKB can also be obtained using the ",Object(r.b)("inlineCode",{parentName:"li"},"balanceOf")," method in the CKB ERC20 proxy contract."),Object(r.b)("li",{parentName:"ol"},"The CKB ERC20 proxy contract address is ",Object(r.b)("inlineCode",{parentName:"li"},"0x6BFD7c449B3FFDaCCcac80Cf3cA6bb89e9bF309C")," for Testnet, and ",Object(r.b)("inlineCode",{parentName:"li"},"0x9D9599c41383D7009C2093319d576AA6F89A4449")," for Mainnet."),Object(r.b)("li",{parentName:"ol"},"It is ",Object(r.b)("strong",{parentName:"li"},"impossible")," to use MetaMask or other wallets to show or send CKB.")),Object(r.b)("p",null,"Check the ",Object(r.b)("a",{parentName:"p",href:"https://github.com/huwenchao/godwoken-demos/blob/main/gw-scripts/assets.ts"},"demo")," for more details."),Object(r.b)("h2",{id:"dapp-development"},"DApp Development"),Object(r.b)("p",null,"An existing contract written in Solidity or Vyper can be ported to Godwoken, otherwise write a new contract."),Object(r.b)("p",null,"There is a ",Object(r.b)("a",{parentName:"p",href:"https://github.com/huwenchao/godwoken-demos/blob/main/gw-scripts/contract.ts"},"demo")," showing a simple way to deploy a contract to and interact with Godwoken.\nThere is no difference in compiling, so using Truffle or Hardhat to write, compile and test the contract is still possible."),Object(r.b)("p",null,"More compatibility information:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"https://docs.godwoken.io/comparisonEVM"},"Comparison with EVM")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"https://github.com/honestgoing/godwoken-polyjuice-compatibility-examples"},"Godwoken Compatibility Examples"))),Object(r.b)("h2",{id:"references"},"References"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"rollup",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"https://ethereum.org/en/developers/docs/scaling/layer-2-rollups/"},"What is Rollup solution?")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"https://research.paradigm.xyz/rollups"},"(Almost) Everything you need to know about Optimistic Rollup | Low trust and Low Cost is important"))))))}d.isMDXComponent=!0}}]);